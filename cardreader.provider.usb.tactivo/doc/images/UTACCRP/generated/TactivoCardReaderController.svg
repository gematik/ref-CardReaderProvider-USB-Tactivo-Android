<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="639px" preserveAspectRatio="none" style="width:481px;height:639px;" version="1.1" viewBox="0 0 481 639" width="481px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ws8sjkt6eb22" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster de.gematik.ti.cardreader.provider.usb.tactivo--><polygon fill="#FFFFFF" filter="url(#f1ws8sjkt6eb22)" points="22,72,347,72,354,95.6094,459,95.6094,459,627,22,627,22,72" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="354" y1="95.6094" y2="95.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="319" x="26" y="88.5332">de.gematik.ti.cardreader.provider.usb.tactivo</text><!--cluster de.gematik.ti.cardreader.provider.usb.tactivo.control--><polygon fill="#FFFFFF" filter="url(#f1ws8sjkt6eb22)" points="46,116,425,116,432,139.6094,435,139.6094,435,603,46,603,46,116" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="432" y1="139.6094" y2="139.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="373" x="50" y="132.5332">de.gematik.ti.cardreader.provider.usb.tactivo.control</text><!--class TactivoCardReaderController--><rect fill="#FEFECE" filter="url(#f1ws8sjkt6eb22)" height="435.4063" id="TactivoCardReaderController" style="stroke: #A80036; stroke-width: 1.5;" width="314" x="83" y="152"/><ellipse cx="155.75" cy="168" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M157.75,164.5 Q157.9531,164 158.1875,163.75 Q158.4219,163.5 158.6875,163.5 Q159.1563,163.5 159.4531,163.7813 Q159.75,164.0625 159.75,164.7188 L159.75,166.2813 Q159.75,166.9375 159.4688,167.2188 Q159.1875,167.5 158.75,167.5 Q158.3594,167.5 158.1094,167.3281 Q157.8594,167.1563 157.75,166.7031 Q157.7031,166.3906 157.5313,166.2188 Q157.2188,165.8906 156.6563,165.6953 Q156.0938,165.5 155.5313,165.5 Q154.8281,165.5 154.2422,165.7813 Q153.6563,166.0625 153.2031,166.6875 Q152.75,167.3125 152.75,168.1719 L152.75,169.0938 Q152.75,170.125 153.5938,170.8125 Q154.4375,171.5 155.9375,171.5 Q156.8281,171.5 157.4531,171.2969 Q157.8125,171.1875 158.2188,170.8281 Q158.4844,170.625 158.625,170.5625 Q158.7656,170.5 158.9375,170.5 Q159.2656,170.5 159.5078,170.7578 Q159.75,171.0156 159.75,171.375 Q159.75,171.7188 159.4063,172.125 Q158.9063,172.7188 158.1094,173.0469 Q157.0625,173.5 155.7813,173.5 Q154.2813,173.5 153.0781,172.9063 Q152.1094,172.4375 151.4297,171.4219 Q150.75,170.4063 150.75,169.2031 L150.75,168.1094 Q150.75,166.8594 151.3516,165.7656 Q151.9531,164.6719 153.0078,164.0859 Q154.0625,163.5 155.25,163.5 Q155.9688,163.5 156.5938,163.75 Q157.2188,164 157.75,164.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="160" x="176.25" y="172.9102">TactivoCardReaderController</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="84" x2="396" y1="184" y2="184"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="91" y="193.418"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="189" x="103" y="199.4189">instance : TactivoCardReaderController</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="91" y="207.2539"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="103" y="213.2549">initialized : boolean</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="91" y="221.0898"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="65" x="103" y="227.0908">LOG : Logger</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="91" y="234.9258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="103" y="240.9268">callback : TactivoCallback</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="91" y="248.7617"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="103" y="254.7627">mktInitializeCompleted : boolean</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="91" y="262.5977"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="215" x="103" y="268.5986">waitForMktInit : CompletableFuture&lt;Boolean&gt;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="91" y="276.4336"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="190" x="103" y="282.4346">cardReaders : Collection&lt;ICardReader&gt;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="91" y="290.2695"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="183" x="103" y="296.2705">preciseTerminals : List&lt;CardTerminal&gt;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="91" y="304.1055"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="205" x="103" y="310.1064">newPreciseTerminals : List&lt;CardTerminal&gt;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="91" y="317.9414"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="288" x="103" y="323.9424">cardCheckerMap : Map&lt;ICardReader, PreciseCardChecker&gt;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="91" y="331.7773"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="103" y="337.7783">context : Context</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="84" x2="396" y1="344.1953" y2="344.1953"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="91" y="353.6133"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="103" y="359.6143">TactivoCardReaderController()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="91" y="367.4492"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="103" y="373.4502">init()</text><ellipse cx="94" cy="384.2852" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="64" x="103" y="387.2861">getInstance()</text><ellipse cx="94" cy="398.1211" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="103" y="401.1221">getCardReaders()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="91" y="408.957"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="103" y="414.958">findPreciseTerminals()</text><polygon fill="#4177AF" points="94,421.793,90,427.793,98,427.793" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="103" y="428.7939">addNewAndInform()</text><polygon fill="#4177AF" points="94,435.6289,90,441.6289,98,441.6289" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="103" y="442.6299">removeAndInform()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="91" y="450.4648"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="103" y="456.4658">findNewReaders()</text><polygon fill="#FFFF44" points="94,462.3008,98,466.3008,94,470.3008,90,466.3008" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="156" x="103" y="470.3018">informAboutReaderConnection()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="91" y="478.1367"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="103" y="484.1377">findRemovedReaders()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="91" y="491.9727"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="103" y="497.9736">stopPreciseTerminalCardChecker()</text><ellipse cx="94" cy="508.8086" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="60" x="103" y="511.8096">setContext()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="91" y="519.6445"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="103" y="525.6455">intitializeMKT()</text><polygon fill="#4177AF" points="94,532.4805,90,538.4805,98,538.4805" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="126" x="103" y="539.4814">setMktInitializeCompleted()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="91" y="547.3164"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="140" x="103" y="553.3174">checkIfMktInitializeComplete()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="91" y="561.1523"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="103" y="567.1533">getPreciseTerminals()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="91" y="574.9883"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="128" x="103" y="580.9893">getNewPreciseTerminals()</text><!--class AbstractAndroidCardReaderController--><rect fill="#FEFECE" filter="url(#f1ws8sjkt6eb22)" height="48" id="AbstractAndroidCardReaderController" style="stroke: #A80036; stroke-width: 1.5;" width="240" x="120" y="8"/><ellipse cx="135" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M137,20.5 Q137.2031,20 137.4375,19.75 Q137.6719,19.5 137.9375,19.5 Q138.4063,19.5 138.7031,19.7813 Q139,20.0625 139,20.7188 L139,22.2813 Q139,22.9375 138.7188,23.2188 Q138.4375,23.5 138,23.5 Q137.6094,23.5 137.3594,23.3281 Q137.1094,23.1563 137,22.7031 Q136.9531,22.3906 136.7813,22.2188 Q136.4688,21.8906 135.9063,21.6953 Q135.3438,21.5 134.7813,21.5 Q134.0781,21.5 133.4922,21.7813 Q132.9063,22.0625 132.4531,22.6875 Q132,23.3125 132,24.1719 L132,25.0938 Q132,26.125 132.8438,26.8125 Q133.6875,27.5 135.1875,27.5 Q136.0781,27.5 136.7031,27.2969 Q137.0625,27.1875 137.4688,26.8281 Q137.7344,26.625 137.875,26.5625 Q138.0156,26.5 138.1875,26.5 Q138.5156,26.5 138.7578,26.7578 Q139,27.0156 139,27.375 Q139,27.7188 138.6563,28.125 Q138.1563,28.7188 137.3594,29.0469 Q136.3125,29.5 135.0313,29.5 Q133.5313,29.5 132.3281,28.9063 Q131.3594,28.4375 130.6797,27.4219 Q130,26.4063 130,25.2031 L130,24.1094 Q130,22.8594 130.6016,21.7656 Q131.2031,20.6719 132.2578,20.0859 Q133.3125,19.5 134.5,19.5 Q135.2188,19.5 135.8438,19.75 Q136.4688,20 137,20.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="208" x="149" y="28.9102">AbstractAndroidCardReaderController</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="121" x2="359" y1="40" y2="40"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="121" x2="359" y1="48" y2="48"/><!--link AbstractAndroidCardReaderController to TactivoCardReaderController--><path d="M240,76.363 C240,96.981 240,123.321 240,151.716 " fill="none" id="AbstractAndroidCardReaderController-TactivoCardReaderController" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="233,76.06,240,56.06,247,76.06,233,76.06" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml

    package de.gematik.ti.cardreader.provider.usb.tactivo {
        package de.gematik.ti.cardreader.provider.usb.tactivo.control {
          class TactivoCardReaderController {
              {static} - instance : TactivoCardReaderController
              - initialized : boolean
              {static} - LOG : Logger
              - callback : TactivoCallback
              - mktInitializeCompleted : boolean
              - waitForMktInit : CompletableFuture<Boolean>
              - cardReaders : Collection<ICardReader>
              - preciseTerminals : List<CardTerminal>
              - newPreciseTerminals : List<CardTerminal>
              - cardCheckerMap : Map<ICardReader, PreciseCardChecker>
              - context : Context
              - TactivoCardReaderController()
              - init()
              {static} + getInstance()
              + getCardReaders()
              - findPreciseTerminals()
              ~ addNewAndInform()
              ~ removeAndInform()
              - findNewReaders()
              # informAboutReaderConnection()
              - findRemovedReaders()
              - stopPreciseTerminalCardChecker()
              + setContext()
              - intitializeMKT()
              ~ setMktInitializeCompleted()
              - checkIfMktInitializeComplete()
              - getPreciseTerminals()
              - getNewPreciseTerminals()
          }
        }
      }

  TactivoCardReaderController -up-|> AbstractAndroidCardReaderController

@enduml

PlantUML version 1.2019.06(Fri May 24 19:10:25 CEST 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_202-release-1483-b03
Operating System: Windows 7
OS Version: 6.1
Default Encoding: Cp1252
Language: de
Country: DE
--></g></svg>